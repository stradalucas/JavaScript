<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>

<body>

    <p>Contador</p>
    <p id="display">1</p>
    <button id="increment">Increment</button>
    <button id="decrement">Decrease</button>
    <button id="reset">Reset</button>
    <button id="newTab">New Tab</button>

    <script>
"use strict";

class Counter {

  constructor() {
    this.counter = 1;
    this.displayElement = document.getElementById('display');
    this.loadCounter();
    this.attachEvents();
    this.onStorageChange();
  }

  loadCounter() {
    const counterValue = localStorage.getItem('counterStorage');
    if (Number.isFinite(+counterValue)) {
      this.counter = counterValue;
    }
    this.#updateDisplay();
  }

  #updateDisplay() {
    this.displayElement.innerText = this.counter;
    this.#saveCounter();
  }

  #saveCounter() {
    localStorage.setItem('counterStorage', this.counter);
  }

  onStorageChange() {
  window.addEventListener('storage', event => {
            if (event.key === 'counterStorage') {
                this.counter = +event.newValue;
                this.#updateDisplay();
            }
        })
  }

  increment() {
    this.counter++;
    this.#updateDisplay();
  }

  decrement() {
    this.counter--;
    this.#updateDisplay();
  }

  reset() {
    this.counter = 0;
    this.#updateDisplay();
  }

  newTab() {
      window.open("/", "_blank");
  }

  attachEvents() {
    increment.addEventListener('click', () => this.increment());
    decrement.addEventListener('click', () => this.decrement());
    reset.addEventListener('click', () => this.reset());
    newTab.addEventListener('click', () => this.newTab());
  }
}

const counter = new Counter();
Las ventajas de usar una clase en este ejemplo son las siguientes:

Encapsulación: La clase encapsula la lógica y los datos relacionados con el contador, lo que hace que el código sea más modular y mantenible.
Organización: La clase organiza el código de manera lógica, lo que facilita su comprensión y modificación.
Reutilización: La clase puede reutilizarse en otros proyectos, lo que ahorra tiempo y esfuerzo.
En particular, las mejoras que sugerimos en el código anterior mejoran aún más estas ventajas:

Encapsulación: Los métodos privados _saveCounter() y _update() encapsulan la lógica de almacenamiento y actualización del contador, lo que hace que el código sea más fácil de entender y modificar.
Organización: El método _update() agrupa las acciones de actualizar la pantalla y guardar el contador, lo que reduce la duplicación de código.
Reutilización: La clase puede reutilizarse en otros proyectos sin necesidad de modificar el código de almacenamiento o actualización.
Además, las siguientes son algunas ventajas adicionales de usar clases en JavaScript:

Herencia: Las clases permiten la herencia, lo que permite crear clases derivadas que heredan las propiedades y métodos de una clase base.
Polimorfismo: Las clases permiten el polimorfismo, lo que permite que objetos de diferentes clases se utilicen de manera similar.
Estas características pueden ser útiles para crear código más flexible y extensible.
</script>
</body>

</html>
